# BOJ 1475

## 🧾 문제 정보

- 🔗 문제 링크: https://www.acmicpc.net/problem/1475
- ⏱ 시간 제한: 2000 ms
- 💾 메모리 제한: 128 MB

---

## 1. 문제 개요

- 숫자 카드 세트(0~9)를 이용해 방 번호를 구성해야 한다.
- 단, 6과 9는 서로 뒤집어 사용할 수 있다는 제약이 존재한다.
- 필요한 최소 카드 세트 개수를 계산하는 문제다.
- 본질은 각 숫자의 최대 필요 개수를 구하는 것이다.

## 2. 초기 접근 방식

- 문자열로 입력된 숫자를 순회하며 각 숫자의 등장 횟수를 센다.
- Map<Character, Integer>를 사용해 빈도를 관리했다.
- 6과 9는 합산 후 절반으로 나누어 처리했다.
- 최종적으로 가장 많이 필요한 숫자의 개수를 답으로 반환했다.

## 3. 문제점

- 자료구조 과설계
  - 입력 도메인이 0~9로 고정되어 있음에도 HashMap 사용
- 불필요한 비용
  - 해시 연산, 객체 생성, 스트림(stream().max()) 사용
- 가독성 저하
  - 6/9 처리 로직이 분산되어 직관성이 떨어짐
- 결과는 맞지만, Java 기준으로 비효율적인 구현

## 4. 개선된 접근

- 핵심 아이디어
  - 숫자 범위가 고정 → int[10] 배열로 빈도 관리
  - 6과 9는 다음 공식으로 단순화
    (count[6] + count[9] + 1) / 2
  - 최대값 계산은 단순 반복문으로 처리

- 설계 결정
  - 문제 특성에 맞는 자료구조 선택
  - 연산 경로 최소화
  - 읽자마자 의도가 보이는 로직 구성

## 5. 개선 효과

| 항목       | baseline         | opt1           |
| -------- | ---------------- | -------------- |
| 자료구조     | HashMap + Stream | int 배열 + loop  |
| 평균 실행 시간 | 115~127 ms       | 106~107 ms     |
| 표준편차     | 최대 12.86         | 최대 4.68        |
| 변동계수(CV) | 최대 10.33%        | 최대 4.34%       |
| 통계적 유의성  | -                | **모든 TC에서 유의** |

- 평균 8~15% 성능 개선
- 실행 시간 분산 감소 → 안정성 향상
- Welch t-test 결과, 모든 케이스에서 LARGE effect size

## 6. 회고

- 문제 해결 자체보다 자료구조 선택이 성능에 더 큰 영향을 줄 수 있음을 확인했다.
- Java 코딩 테스트에서는
  - “동작하는 코드”보다
  - **“불필요한 것을 제거한 코드”가 더 중요하다.
- 단순한 문제일수록 과한 추상화는 독이다.
- 이 문제는 Java 최적화 감각을 점검하기에 매우 좋은 문제였다.

## ⏱ 실행 시간 성능 분석 (자동 생성)

> phase × 테스트케이스(tc) 기준 자동 분석  
> Δ%는 평균 실행 시간(Avg)을 기준으로 계산됨

| Phase | TC | Avg(ms) | Δ% | StdDev | CV(%) | N |
|:----:|:--:|-------:|---:|-------:|------:|--:|
| baseline | 1 | 119.69 | - | 7.84 | 6.55 | 90 |
| opt1 | 1 | 106.7 | 10.85 | 3.51 | 3.29 | 90 |
| baseline | 2 | 117.21 | - | 6.15 | 5.24 | 90 |
| opt1 | 2 | 106.92 | 8.78 | 3.83 | 3.58 | 90 |
| baseline | 3 | 115.4 | - | 4.06 | 3.52 | 90 |
| opt1 | 3 | 106.5 | 7.71 | 3.97 | 3.73 | 90 |
| baseline | 4 | 127.41 | - | 9.95 | 7.81 | 90 |
| opt1 | 4 | 107.72 | 15.45 | 4.68 | 4.34 | 90 |
| baseline | 5 | 124.57 | - | 12.86 | 10.33 | 90 |
| opt1 | 5 | 106.79 | 14.27 | 4.03 | 3.78 | 90 |

## 📊 통계적 유의성 검증 (Welch t-test)

- 유의수준 α = 0.05
- 대상 데이터: tag=sample (warmup / trim 제외)
- 검정 방식: 독립 2표본 Welch t-test
- p-value 계산:
  - df > 100 : 정규분포 근사
  - df ≤ 100 : Cornish–Fisher 보정된 t-분포 근사
- Cohen’s d 기준
  - |d| < 0.2 : NEGLIGIBLE
  - 0.2–0.5   : SMALL
  - 0.5–0.8   : MEDIUM
  - ≥ 0.8     : LARGE

| TC | Phase 비교 | n1 | n2 | t-value | p-value | Cohen’s d | Effect | Significant |
|:--:|:-----------|------:|------:|--------:|--------:|----------:|:------:|:-----------:|
| 1 | baseline → opt1 | 90 | 90 |14.344 | 0 | 2.138 | LARGE | YES |
| 2 | baseline → opt1 | 90 | 90 |13.482 | 0 | 2.01 | LARGE | YES |
| 3 | baseline → opt1 | 90 | 90 |14.868 | 0 | 2.216 | LARGE | YES |
| 4 | baseline → opt1 | 90 | 90 |16.983 | 0 | 2.532 | LARGE | YES |
| 5 | baseline → opt1 | 90 | 90 |12.509 | 0 | 1.865 | LARGE | YES |
